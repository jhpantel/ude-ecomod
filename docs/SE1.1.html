<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Jelena H. Pantel" />


<title>Solutions: Exercise 1.1 - Introduction to R in Ecology, Part 1</title>

<script src="site_libs/header-attrs-2.21/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-6.4.0/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.0/css/v4-shims.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Ecological Modelling</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Syllabus
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="./schedule.html">Course schedule</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    About me
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="./aboutme.html">Learn more about me</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Projects
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Project 1</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="./project1.html">Guidelines</a>
        </li>
        <li>
          <a href="./media/ugly_logistic_cheat_sheet.pdf">Example cheat sheet</a>
        </li>
        <li class="dropdown-submenu">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Resources</a>
          <ul class="dropdown-menu" role="menu">
            <li>
              <a href="./stage.html">Stage structured models</a>
            </li>
            <li>
              <a href="./metapop.html">Metapopulation model</a>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li>
      <a href="./project2.pdf">Project 2</a>
    </li>
  </ul>
</li>
<li>
  <a href="./contact.html">Contact</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/githubusername/mywebsite">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Solutions: Exercise 1.1 - Introduction to R
in Ecology, Part 1</h1>
<h4 class="author">Jelena H. Pantel</h4>
<h4 class="date">2023-11-09 18:45:44.780538</h4>

</div>


<div id="exercise-1.-simple-calculation-and-variable-assignment"
class="section level2">
<h2>Exercise 1. Simple calculation and variable assignment</h2>
<ol style="list-style-type: decimal">
<li>Open RStudio. The console window gives you some information about
the version of R you are running, and it gives the prompt
<code>&lt;</code>. This prompt is waiting for you to input a command.
Let’s use R as a simple calculator: type <code>2+3</code> and hit
<em>enter</em>. What you should see is the following:</li>
</ol>
<pre class="r"><code>2 + 3</code></pre>
<pre><code>## [1] 5</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Please create a new variable called <em>a</em> and assign the value
5 to that variable using the <code>&lt;-</code> assignment operator.
Then add <code>a+5</code> in the console. Make sure the displayed answer
is 10.</li>
</ol>
<pre class="r"><code>a &lt;- 5
a + 5</code></pre>
<pre><code>## [1] 10</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Let’s work with a <em>vector</em> in R. First, create a new variable
called <em>b</em> and assign it 3 values: 5, 13, and 2 (hint: use the
<code>c()</code> command - see help file by typing <code>?c</code> in
the console). Then index the 3rd value using <code>b[3]</code> (make
sure the value of <code>2</code> is displayed). Finally, use
<code>b[3] &lt;- 16</code> to change the 3rd value of <em>b</em> to
16.</li>
</ol>
<pre class="r"><code>b &lt;- c(5, 13, 2)
b</code></pre>
<pre><code>## [1]  5 13  2</code></pre>
<pre class="r"><code>b[3]</code></pre>
<pre><code>## [1] 2</code></pre>
<pre class="r"><code>b[3] &lt;- 16
b</code></pre>
<pre><code>## [1]  5 13 16</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>Let’s use some built in functions in base R. Please use the
<code>sqrt</code> command to calculate <span class="math inline">\(\sqrt
16\)</span> and <span class="math inline">\(\sqrt 67\)</span>.</li>
</ol>
<pre class="r"><code>sqrt(16)</code></pre>
<pre><code>## [1] 4</code></pre>
<pre class="r"><code>sqrt(67)</code></pre>
<pre><code>## [1] 8.185353</code></pre>
</div>
<div id="exercise-2.-creating-and-saving-an-r-script"
class="section level2">
<h2>Exercise 2. Creating and saving an R script</h2>
<ol start="5" style="list-style-type: decimal">
<li>R scripts: In RStudio, go to *File, New File, R script’. A new
document will appear. This is ultimately an open text document where you
can write, save, and execute R code. Type the following into the R
script:</li>
</ol>
<pre class="r"><code># A new R Script by YOUR NAME 12-10-2023
a &lt;- c(5, 13, 2, NA)
mean(a)</code></pre>
<pre><code>## [1] NA</code></pre>
<pre class="r"><code>`?`(mean)
mean(a, na.rm = TRUE)</code></pre>
<pre><code>## [1] 6.666667</code></pre>
<p>Create a folder on your local hard drive dedicated to this course.
You can save the R Script there. For example, I saved it as
<code>Users/jhpantel/Documents/EcoMod/script1.R</code>. When I navigate
to that folder, I can see the R script in the file directory. Close the
file in RStudio (you can click the ‘X’ next to the file name in the top
left of the RStudio file pane). Go to the bottom right pane, click on
the ‘Files’ tab, and navigate to the directory where you saved your
<em>script.R</em> file. Make sure you can open the file from here (by
clicking on the file).</p>
<p>You can save all of your work during this class using .R scripts.</p>
<ol start="6" style="list-style-type: decimal">
<li>R Markdown</li>
</ol>
<ul>
<li><p>In RStudio, go to <em>File, New File, R Markdown</em>. For
<em>Title</em>, enter <em>script.r</em>. You can enter your name in
<em>Author</em> and today’s date for <em>Date</em>. Keep everything set
to the default selection, and click ‘OK’.</p></li>
<li><p>Go to Line 18 of this R Markdown file - delete
<code>cars</code></p></li>
<li><p>On line 19, paste the same code from #5 above, and delete
everything else from Line #22 onwards (“## Including plots”
etc).</p></li>
<li><p>Click on the green right-facing arrow (“play”) button to the
right of the red text - this will execute the code in this section (this
section is referred to as a “code chunk”). You can see the output below
the code chunk.</p></li>
<li><p>Save the R Markdown file as “script1.Rmd”.</p></li>
<li><p>Let’s add 1 more code chunk below the existing code chunk. In
RStudio, go to ‘Code, Insert Chunk’. Paste the following code inside the
code chunk:</p></li>
</ul>
<pre class="r"><code>plot(1:4, a, ylim = c(0, 15))</code></pre>
<p><img src="SE1.1_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<ul>
<li><p>Finally, see how you can use RMarkdown to make attractive
code-based documents. Click on the small blue yarn ball - you will
“knit” your R Markdown document to an HTML output (‘Knit to HTML’). See
the attractive output format! (You can also knit to a PDF - but you may
need to install a few more things to get this to work, we can discuss.
Of course the document you are looking at was created using R Markdown
and LaTEX).</p></li>
<li><p>If you want to learn more about formatting document in R
Markdown, see the R Markdown Cheat Sheet at <a
href="https://www.rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf">https://www.rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf</a></p></li>
</ul>
</div>
<div id="exercise-3.-working-with-functions" class="section level2">
<h2>Exercise 3. Working with functions</h2>
<ol start="7" style="list-style-type: decimal">
<li>We used different built-in R functions such as <code>sqrt</code> and
<code>mean</code>. Every function begins by typing the designated
function name, opening a parentheses <code>(</code>, entering the
<em>arguments</em> the function needs to execute the function, and
closing the parentheses <code>)</code>. The executed function returns
the value of the calculations and operations done inside the
function.</li>
</ol>
<p>We will learn to write our own function - see my example here: I
create a function called <code>my_fun</code>, which takes two values
(<em>x</em> and <em>y</em>), adds them together, and returns the added
value.</p>
<pre class="r"><code>my_fun &lt;- function(x, y) {
    z &lt;- x + y
    return(z)
}
my_fun(17, 3)</code></pre>
<pre><code>## [1] 20</code></pre>
<p>Please choose two numbers for <em>x</em> and <em>y</em>, and use them
to execute <code>my_fun(x,y)</code>.</p>
<ol start="8" style="list-style-type: decimal">
<li>Your turn! Write a function called <code>times_seven()</code> - it
should take a single argument, multiply that value by 7, and return the
new value.</li>
</ol>
<pre class="r"><code>times_seven &lt;- function(x) {
    z &lt;- x * 7
    return(z)
}
times_seven(17)</code></pre>
<pre><code>## [1] 119</code></pre>
<ol start="9" style="list-style-type: decimal">
<li>Write a function called <code>n1_subtract_n2()</code> - it should
take two arguments, and should subtract the second number from the first
number, and return that value</li>
</ol>
<pre class="r"><code>n1_subtract_n2 &lt;- function(x, y) {
    z &lt;- x - y
    return(z)
}
n1_subtract_n2(17, 15)</code></pre>
<pre><code>## [1] 2</code></pre>
</div>
<div id="exercise-4.-working-with-for-loops" class="section level2">
<h2>Exercise 4. Working with for-loops</h2>
<p><code>for</code> loops are an incredibly useful programming skill.
They are a way to repeat an operation or calculation for different
values. A for-loop is one of the main ways of controlling operations in
many programming languages, it is used to iterate (repeat) over a
collection of objects, such as a vector, a list, a matrix, or a
dataframe, and apply the same set of operations on each item of a given
data structure. We use for-loops to keep our code clean and avoid
unnecessary repetition of a code block.</p>
<p>The basic syntax of a for-loop in R is the following:</p>
<p><code>for (variable in sequence) {</code></p>
<p><code>expression</code></p>
<p><code>}</code></p>
<p>See the <code>for</code> loops I have written below:</p>
<pre class="r"><code># note how the loop changes the value of the variable x for
# each iteration of the loop: first x=1 and &#39;print(x)&#39; is
# executed. Then x=2, then x=3, and so on.
for (x in 1:5) {
    print(x)
}</code></pre>
<pre><code>## [1] 1
## [1] 2
## [1] 3
## [1] 4
## [1] 5</code></pre>
<pre class="r"><code>for (i in 1:5) {
    z &lt;- i + 6
    print(z)
}</code></pre>
<pre><code>## [1] 7
## [1] 8
## [1] 9
## [1] 10
## [1] 11</code></pre>
<pre class="r"><code>for (i in 1:5) {
    a[i] &lt;- i
}
a</code></pre>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<pre class="r"><code>b &lt;- c(&quot;I&quot;, &quot;love&quot;, &quot;R&quot;)
for (i in 1:length(b)) {
    print(b[i])
}</code></pre>
<pre><code>## [1] &quot;I&quot;
## [1] &quot;love&quot;
## [1] &quot;R&quot;</code></pre>
<ol start="10" style="list-style-type: decimal">
<li>Your turn - For each of three values of volume,
<code>v &lt;- c(1.6,3,8)</code>, calculate the <em>mass</em>, where
<code>m &lt;- 2.65 * volume ^ 0.9</code>. Please calculate this in a
loop. You can print the values within the loop.</li>
</ol>
<pre class="r"><code>v &lt;- c(1.6, 3, 8)
for (i in 1:length(v)) {
    m &lt;- 2.65 * v[i]^0.9
    print(m)
}</code></pre>
<pre><code>## [1] 4.045329
## [1] 7.12287
## [1] 17.21975</code></pre>
</div>
<div id="exercise-5.-make-a-lovely-plot" class="section level2">
<h2>Exercise 5. Make a lovely plot!</h2>
<p>We can agree my scatter plot of <code>a</code> in #6 is not a very
attractive or complex plot. Let’s quickly use a built-in R dataset to
improve our control over what our plots look like.</p>
<ol start="11" style="list-style-type: decimal">
<li>Use base R commands to improve the plot - we can add arguments to
the plot command that change the plot visualization. Here we
progressively alter arguments to <code>plot</code></li>
</ol>
<pre class="r"><code>plot(pressure$temperature, pressure$pressure)</code></pre>
<p><img src="SE1.1_files/figure-html/unnamed-chunk-15-1.png" width="50%" /></p>
<pre class="r"><code>plot(pressure$temperature, pressure$pressure, xlab = &quot;temperature&quot;,
    ylab = &quot;pressure&quot;)</code></pre>
<p><img src="SE1.1_files/figure-html/unnamed-chunk-16-1.png" width="50%" /></p>
<pre class="r"><code>plot(pressure$temperature, pressure$pressure, xlab = &quot;temperature&quot;,
    ylab = &quot;pressure&quot;, pch = 19, col = &quot;orange&quot;)</code></pre>
<p><img src="SE1.1_files/figure-html/unnamed-chunk-17-1.png" width="50%" /></p>
<ol start="12" style="list-style-type: decimal">
<li>We can also use the plotting library (its really an entire plotting
language embedded inside R) <code>ggplot2</code>. There are a few, more
complicated steps needed to work with ggplot. We’ll quickly make a
scatterplot:</li>
</ol>
<pre class="r"><code>library(ggplot2)
# if this doesn&#39;t work, you&#39;ll need to install the ggplot2
# package this way: install.packages(ggplot2)

# Basic scatter plot - supply the name of the dataframe,
# the x and y values from that dataframe, and use
# geom_point() to draw points
ggplot(pressure, aes(x = temperature, y = pressure)) + geom_point()</code></pre>
<p><img src="SE1.1_files/figure-html/unnamed-chunk-18-1.png" width="50%" /></p>
<pre class="r"><code># Change the point size, and shape
ggplot(pressure, aes(x = temperature, y = pressure)) + geom_point(size = 2,
    shape = 23, colour = &quot;orange&quot;, fill = &quot;skyblue&quot;)</code></pre>
<p><img src="SE1.1_files/figure-html/unnamed-chunk-18-2.png" width="50%" /></p>
<ol start="13" style="list-style-type: decimal">
<li>Make your own plot of the following data:</li>
</ol>
<pre class="r"><code># We quickly generate some fake data
data1 &lt;- rnorm(57, 245, 15)
data2 &lt;- rnorm(57, data1 - 150, 11)
plot(data1, data2, xlab = &quot;Variable 1&quot;, ylab = &quot;Variable 2&quot;)</code></pre>
<p><img src="SE1.1_files/figure-html/unnamed-chunk-19-1.png" width="50%" /></p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
